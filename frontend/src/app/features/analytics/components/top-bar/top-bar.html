<header class="topbar" role="banner">
  <div class="left">
    <div class="title">{{ title }}</div>
  </div>

  <nav class="tabs" role="navigation" aria-label="Dashboard time range">
    <!-- Compact: show a select on very small screens -->
    <select class="tabs-select" *ngIf="compactTabs" [value]="activeTab" (change)="selectFromEvent($event)">
      <option *ngFor="let t of tabs" [value]="t">{{ t }}</option>
    </select>

    <!-- Full tabs for larger screens -->
    <ul *ngIf="!compactTabs">
      <li *ngFor="let t of tabs" (click)="selectTab(t)" [class.active]="t === activeTab" [attr.aria-current]="t === activeTab ? 'page' : null">
        {{ t }}
      </li>
    </ul>
  </nav>

  <div class="right">
    <div class="date">{{ dateText }}</div>
    <button class="cta" type="button" (click)="buttonClick.emit()" *ngIf="buttonLabel">{{ buttonLabel }}</button>

    <app-profile-bar *ngIf="showProfileBar" [userId]="userId"></app-profile-bar>

    <button *ngIf="showSettings" class="gear" aria-label="settings">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M12 15.5A3.5 3.5 0 1 0 12 8.5a3.5 3.5 0 0 0 0 7z" fill="currentColor" />
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09c.67 0 1.2-.43 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 0 1 6.8 3.8l.06.06c.44.44 1 .7 1.6.8.4-.9 1.3-1.6 2.4-1.6h.18A2 2 0 0 1 12 3c.6 0 1.1.2 1.5.45.04 0 .07 0 .1 0 .66 0 1.25.21 1.75.6.5.39.88.9 1.1 1.47.76.1 1.44.48 1.96 1.02l.06.06a2 2 0 0 1-.01 2.82l-.06.06c-.3.3-.5.68-.6 1.1.9.4 1.6 1.3 1.6 2.4v.18c.3.4.45.9.45 1.5a2 2 0 0 1-1 1.75z" fill="currentColor" opacity=".7"/>
      </svg>
    </button>
  </div>
</header>
